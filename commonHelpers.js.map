{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/img/x-octagon.svg","../src/main.js"],"sourcesContent":["export function fetchImages(Q) {\n    const KEY = '42515164-6d66b652ac661a4b366139ff0';\n    const BASE_URI = 'https://pixabay.com/api/';\n    const IMAGE_TYPE = 'photo';\n    const ORIENTATION = 'horizontal';\n    const SAFESEARCH = true;\n    const LINK = `${BASE_URI}?key=${KEY}&q=${Q}&image_type=${IMAGE_TYPE}&orientation=${ORIENTATION}&safesearch=${SAFESEARCH}`;\n\n    return fetch(LINK)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error('Image error');\n            }\n            return response.json();\n        })\n};","export function createGalleryMarkup(images) {\n                    return images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) =>\n                        `<li class=\"gallery-item\">\n                            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                            <img\n                            class=\"gallery-image\"\n                            src=\"${webformatURL}\"\n                            data-source=\"${largeImageURL}\"\n                            alt=\"${tags}\"\n                            />\n                            </a>\n                            <div class=\"image-info\">\n                                <ul class=\"image-info-list\">\n                                    <li class=\"image-item\">\n                                        <h2 class=\"image-text\">Likes</h2>\n                                        <p class=\"image-quantity\">${likes}</p>\n                                    </li>\n                                    <li class=\"image-item\">\n                                        <h2 class=\"image-text\">Views</h2>\n                                        <p class=\"image-quantity\">${views}</p>\n                                    </li>\n                                    <li class=\"image-item\">\n                                        <h2 class=\"image-text\">Comments</h2>\n                                        <p class=\"image-quantity\">${comments}</p>\n                                    </li>\n                                    <li class=\"image-item\">\n                                        <h2 class=\"image-text\">Downloads</h2>\n                                        <p class=\"image-quantity\">${downloads}</p>\n                                    </li>\n                                </ul>\n                            </div>\n                        </li>`)\n                        .join(\"\");\n                    }","export default \"__VITE_ASSET__655c9695__\"","import { fetchImages } from './js/pixabay-api'\nimport { createGalleryMarkup } from './js/render-functions';\nimport errorIcon from \"./img/x-octagon.svg\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst searchForm = document.querySelector(\".form\");\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\nconst imageLightbox = new SimpleLightbox('.gallery .gallery-link', {\n                    captionsData: 'alt',\n                    }); \n\n \nsearchForm.addEventListener(\"submit\", onSubmit);\n\nfunction onSubmit(event) {\n    event.preventDefault();\n    gallery.innerHTML = \"\";\n    const input = searchForm.elements.word.value.trim();\n    if (input === \"\") {\n        iziToast.error({\n                title: 'Error',\n                titleColor: '#fff',\n                message: 'Search query cannot be empty',\n                messageColor: '#fafafb',\n                messageSize: '16px',\n                backgroundColor: '#ef4040',\n                theme: 'dark',\n                iconUrl: errorIcon,\n                maxWidth: '432px',\n            });\n            searchForm.reset()\n            return;\n    }\n    \n    loader.classList.remove(\"is-hidden\");\n\n    fetchImages(input).then(data => {\n        const images = data.hits;\n         if (images.length === 0) {  \n            iziToast.error({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                messageColor: '#fafafb',\n                messageSize: '16px',\n                backgroundColor: '#ef4040',\n                theme: 'dark',\n                iconUrl: errorIcon,\n                maxWidth: '432px',\n            })\n            searchForm.reset()\n            return;\n            \n        } else {\n            gallery.innerHTML = createGalleryMarkup(images);\n            imageLightbox.refresh();\n        }\n        searchForm.reset();\n    }).catch(error => {\n        iziToast.error({\n            title: 'Error',\n            titleColor: '#fff',\n            message: 'Error while fetching images from Pixabay!',\n            messageColor: '#fafafb',\n            messageSize: '16px',\n            backgroundColor: '#ef4040',\n            theme: 'dark',\n            iconUrl: errorIcon,\n            maxWidth: '432px',\n        })   \n    }).finally(() => {\n        loader.classList.add(\"is-hidden\");\n    })\n} \n\nfunction selectImage(event) {\n    event.preventDefault();\n    const { className } = event.target;\n    if (className !== \"gallery-image\") {\n        return;\n    }\n} "],"names":["fetchImages","Q","LINK","response","createGalleryMarkup","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","errorIcon","searchForm","gallery","loader","imageLightbox","SimpleLightbox","onSubmit","event","input","iziToast","data","error"],"mappings":"6vBAAO,SAASA,EAAYC,EAAG,CAM3B,MAAMC,EAAO,qEAA4BD,CAAC,uDAAmE,EAAU,GAEvH,OAAO,MAAMC,CAAI,EACZ,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,aAAa,EAEjC,OAAOA,EAAS,MAC5B,CAAS,CACT,CCfO,SAASC,EAAoBC,EAAQ,CACxB,OAAOA,EAAO,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IACvF;AAAA,4DACoCL,CAAa;AAAA;AAAA;AAAA,mCAGtCD,CAAY;AAAA,2CACJC,CAAa;AAAA,mCACrBC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oEAO6BC,CAAK;AAAA;AAAA;AAAA;AAAA,oEAILC,CAAK;AAAA;AAAA;AAAA;AAAA,oEAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,oEAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,8BAI/C,EACL,KAAK,EAAE,CAChC,CCjCA,MAAeC,EAAA,+CCSTC,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAgB,IAAIC,EAAe,yBAA0B,CAC/C,aAAc,KAClC,CAAqB,EAGrBJ,EAAW,iBAAiB,SAAUK,CAAQ,EAE9C,SAASA,EAASC,EAAO,CACrBA,EAAM,eAAc,EACpBL,EAAQ,UAAY,GACpB,MAAMM,EAAQP,EAAW,SAAS,KAAK,MAAM,OAC7C,GAAIO,IAAU,GAAI,CACdC,EAAS,MAAM,CACP,MAAO,QACP,WAAY,OACZ,QAAS,+BACT,aAAc,UACd,YAAa,OACb,gBAAiB,UACjB,MAAO,OACP,QAAST,EACT,SAAU,OAC1B,CAAa,EACDC,EAAW,MAAO,EAClB,MACP,CAEDE,EAAO,UAAU,OAAO,WAAW,EAEnChB,EAAYqB,CAAK,EAAE,KAAKE,GAAQ,CAC5B,MAAMlB,EAASkB,EAAK,KACnB,GAAIlB,EAAO,SAAW,EAAG,CACtBiB,EAAS,MAAM,CACX,QAAS,2EACT,aAAc,UACd,YAAa,OACb,gBAAiB,UACjB,MAAO,OACP,QAAST,EACT,SAAU,OAC1B,CAAa,EACDC,EAAW,MAAO,EAClB,MAEZ,MACYC,EAAQ,UAAYX,EAAoBC,CAAM,EAC9CY,EAAc,QAAO,EAEzBH,EAAW,MAAK,CACxB,CAAK,EAAE,MAAMU,GAAS,CACdF,EAAS,MAAM,CACX,MAAO,QACP,WAAY,OACZ,QAAS,4CACT,aAAc,UACd,YAAa,OACb,gBAAiB,UACjB,MAAO,OACP,QAAST,EACT,SAAU,OACtB,CAAS,CACT,CAAK,EAAE,QAAQ,IAAM,CACbG,EAAO,UAAU,IAAI,WAAW,CACxC,CAAK,CACL"}